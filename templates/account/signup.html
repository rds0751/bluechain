{% extends "account/base.html" %}

{% load i18n static %}
{% load crispy_forms_tags %}

{% block head_title %}{% trans "Signup" %}{% endblock %}

{% block body %}


    <!-- Login Section -->
    <section class="section-style site-auth">
      <div class="container">
          <div class="row justify-content-center">
              <div class="col-xl-5 col-lg-8 col-md-12">
                  <div class="auth-content">
                      <div class="logo">
                          <a href="http://127.0.0.1/rajesh"><img src="http://127.0.0.1/rajesh/assets/global/images/JJYN2UUG94YOc0E0v7GA.png" alt=""/></a>
                      </div>
                      <div class="title">
                          <h2> ðŸ‘‹ Welcome Back!</h2>
                          <p>Sign in to continue with BizzTrixx User Panel</p>
                      </div>
                      {% if form.errors %}
                      {% for error in form.errors %}
                        <div class="alert alert-danger">
                          <strong>Wrong {{ error.field }}</strong>
                        </div>
                        {% endfor %}
                      {% endif %}
                      

                      <div class="site-auth-form">
                        <form class="mb-4 text-start " id="signup_form" autocomplete="sedrctvghb" method="post" action="{% url 'account_signup' %}">
                          {% csrf_token %}
                          <!-- alert messages -->    
                        
                              {% if redirect_field_value %}
                              <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                              {% endif %}
                              <div class="single-field">
                                <label>Sponsor ID</label>
                                        <input onkeyup="this.value = this.value.toUpperCase();" style="font-size: .8rem;" type="text" name="referal_code" placeholder="Sponsor ID" style="font-size: 22px" class="form-control border-start-0" id="id_username">
                                        
                                </div>  
                            <div class="single-field">
                              <label>Sponsor Name</label>
                                        <input style="font-size: .8rem;" placeholder="Sponsor Name" type="text" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="user_name" readonly="">
                                        
                                </div>
                            <div class="single-field">
                              <label>Full Name</label>
                                        <input onkeyup="this.value = this.value.toUpperCase();" placeholder="Full Name" style="font-size: .8rem;" autocomplete="sedrctvghb" type="text" name="name" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input" autocomplete="sedrctvghb">
                                        
                                </div>
                            <div class="single-field">
                              <label>Mobile</label>
                                        <input style="font-size: .8rem;" default="+91" placeholder="Mobile" autocomplete="sedrctvghb" type="text" name="mobile" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input" autocomplete="sedrctvghb">
                                        
                                </div>
                            <div class="single-field">
                              <label>Email</label>
                                          <input style="font-size: .8rem;" autocomplete="sedrctvghb" type="email" name="email" placeholder="Email" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input">
                                          
                                </div>
                            <input type="hidden" name="username" value="13wsdfgrfcvf">
                            <input type="hidden" name="{{ redirect_field_name }}" value="/signup/onboarding/" />
                            <div class="single-field">
                              <label>Password</label>
                                        <input  style="font-size: .8rem;" autocomplete="sedrctvghb" type="password" placeholder="Enter 6 digit password" name="password1" style="font-size: 22px" class="form-control border-start-0" id="password1">
                                        
                                </div>
                                
                            <div class="single-field">
                              <label>Confirm Password</label>
                                <input style="font-size: .8rem;" value="" placeholder="Confirm Password" autocomplete="sedrctvghb" name="password2" style="font-size: 22px" class="form-control border-start-0" id="password2">
                              </div>

                                                                  </div>
                              <button type="submit" class="site-btn grad-btn w-100">
                                  Account Login
                              </button>
                          </form>
                          <div class="singnup-text">
                            <p class="text-white">{% trans "Already have an account?" %} <a href="/accounts/login/" style="color: #0ba0b0"><strong>{% trans "login" %}</strong></a>  {% trans "here." %}</p>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>
  <!-- Login Section End -->




<!-- Begin page content -->
<main class="main mainheight container-fluid">
  <div class="row h-100 justify-content-center">
      <div class="col-12 align-self-center">
          <div class="row align-items-center justify-content-center">
              <div style="background: black; padding: 15px;" class="col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4 col-xxl-3 text-center text-white py-3">
                  <img src="{% static '/assets/img/logo.png' %}" width="'150px" style="width: 150px;" />
                  <h3 class="mb-3 mb-lg-4">Create Your Account</h3>
                  <p>Make your earning 4X</p>
                  {% if form.errors %}
                    {% for error in form.errors %}
                      <div class="alert alert-danger">
                        <strong>Wrong {{ error.field }}</strong>
                      </div>
                      {% endfor %}
                    {% endif %}
                  
                    <form class="mb-4 text-start " id="signup_form" autocomplete="sedrctvghb" method="post" action="{% url 'account_signup' %}">
                      {% csrf_token %}
                      <!-- alert messages -->    
                      
                      <div class="single-field">
                          <div class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                  <input onkeyup="this.value = this.value.toUpperCase();" style="font-size: .8rem;" type="text" name="referal_code" placeholder="Sponsor ID" style="font-size: 22px" class="form-control border-start-0" id="id_username">
                                  <label>Sponsor ID</label>
                                </div>  
                                </div>
                              </div>
                          </div>  
                      <div class="single-field">
                          <div onLoad="loadUsername()" class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                  <input style="font-size: .8rem;" placeholder="Sponsor Name" type="text" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="user_name" readonly="">
                                  <label>Sponsor Name</label>
                                </div>  
                                </div>
                              </div>
                          </div>
                      <div class="single-field">
                          <div class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                  <input onkeyup="this.value = this.value.toUpperCase();" placeholder="Full Name" style="font-size: .8rem;" autocomplete="sedrctvghb" type="text" name="name" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input" autocomplete="sedrctvghb">
                                  <label>Full Name</label>
                                </div>  
                                </div>
                              </div>
                          </div>
                      <div class="single-field">
                          <div class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                  <input style="font-size: .8rem;" default="+91" placeholder="Mobile" autocomplete="sedrctvghb" type="text" name="mobile" minlength="1" maxlength="150" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input" autocomplete="sedrctvghb">
                                  <label>Mobile</label>
                                </div>  
                                </div>
                              </div>
                          </div>
                      <div class="single-field">
                          <div class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                    <input style="font-size: .8rem;" autocomplete="sedrctvghb" type="email" name="email" placeholder="Email" style="font-size: 22px" class="form-control border-start-0" id="text-field-hero-input">
                                    <label>Email</label>
                                  </div>  
                                </div>
                              </div>
                          </div>
                      <input type="hidden" name="username" value="13wsdfgrfcvf">
                      <input type="hidden" name="{{ redirect_field_name }}" value="/signup/onboarding/" />
                      <div class="text-dark">
                        <div class="form-group mb-2 position-relative check-valid is-valid">
                                  <div class="form-floating">
                                  <input  style="font-size: .8rem;" autocomplete="sedrctvghb" type="password" placeholder="Enter 6 digit password" name="password1" style="font-size: 22px" class="form-control border-start-0" id="password1">
                                  <label>Password</label>
                                </div>  
                                </div>
                              </div>
                          </div>
                          <input style="font-size: .8rem;" value="" placeholder="Confirm Password" autocomplete="sedrctvghb" name="password2" style="font-size: 22px" class="form-control border-start-0" type="hidden" id="password2">
                                  
                                  
                          
                          <button class="btn btn-lg btn-primary top-0 end-0 z-index-5 w-100 mt-4" type="submit" id="submitsignup">Signup <i class="bi bi-arrow-right"></i></button>
                  </form>

                  <!-- or continue with options -->
                  <p class="text-white">{% trans "Already have an account?" %} <a href="/accounts/login/" style="color: #0ba0b0"><strong>{% trans "login" %}</strong></a>  {% trans "here." %}</p>
              </div>
          </div>
      </div>

      <div class="col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4 col-xxl-3 mt-auto mb-4">
          <!-- submit button -->
      </div>
  </div>
</main>


<!-- Required jquery and libraries -->
<script src="{% static '/js/jquery-3.3.1.min.js' %}"></script>
<script src="{% static '/js/popper.min.js' %}"></script>
<script src="{% static '/vendor/bootstrap-5/dist/js/bootstrap.bundle.js' %}"></script>

<!-- Customized jquery file  -->
<script src="{% static '/js/main.js' %}"></script>
<script src="{% static '/js/color-scheme.js' %}"></script>


<!-- Chart js script -->
<script src="{% static '/vendor/chart-js-3.3.1/chart.min.js' %}"></script>

<!-- Progress circle js script -->
<script src="{% static '/vendor/progressbar-js/progressbar.min.js' %}"></script>

<!-- swiper js script -->
<script src="{% static '/vendor/swiper-7.3.1/swiper-bundle.min.js' %}"></script>

<script>
  $("#id_username").change(function () {
    var username = $(this).val();

    $.ajax({
      url: '/users/ajax/validate_username/',
      data: {
        'username': username
      },
      dataType: 'json',
      success: function (data) {
        if (true) {
          document.getElementById("user_name").value = data.is_taken;
        }
      }
    });

  });
</script>
<script>
  $("#password1").change(function () {
    var password = $(this).val();
    document.getElementById("password2").value = password;

  });
</script>
{% endblock %}